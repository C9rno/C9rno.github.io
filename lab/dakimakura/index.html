<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="/lab/img/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/lab/img/favicon.ico" type="image/x-icon"/>
<link href="https://cdn.muicss.com/mui-latest/css/mui.min.css" rel="stylesheet" type="text/css" />
<link href="/lab/static/style.css" rel="stylesheet" type="text/css" />
<link  href="https://cdn.bootcss.com/cropperjs/1.5.6/cropper.min.css" rel="stylesheet">
<script src="https://cdn.muicss.com/mui-latest/js/mui.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="/lab/static/script.js"></script>
<script src="https://cdn.bootcss.com/cropperjs/1.5.6/cropper.min.js"></script>
</head>
<body>
<div id="sidedrawer" class="mui--no-user-select">
<div id="sidedrawer-brand" class="mui--appbar-line-height">
<span class="mui--text-title">C9rno.github.io</span>
</div>
<div class="mui-divider"></div>
<ul>
<li>
<strong>Lab</strong>
<ul>
<li><a href="/lab/av2bv">av2bv</a></li>
<li><a href="#">Labs Homepage</a></li>
<li><a href="/lab/todo">To do</a></li>
</ul>
</li>
<li>
<strong>Blog</strong>
<ul>
<li><a href="/">Mainsite</a></li>
</ul>
</li>
</div>
<header id="header">
<div class="mui-appbar mui--appbar-line-height">
<div class="mui-container-fluid">
<a class="sidedrawer-toggle mui--visible-xs-inline-block mui--visible-sm-inline-block js-show-sidedrawer">☰</a>
<a class="sidedrawer-toggle mui--hidden-xs mui--hidden-sm js-hide-sidedrawer">☰</a>
<span class="mui--text-title mui--visible-xs-inline-block mui--visible-sm-inline-block">C9rno.github.io</span>
</div>
</div>
</header>
<div id="content-wrapper">
<div class="mui--appbar-height"></div>
<div class="mui-container-fluid">
<br>
<button type="button" class="mui-btn mui-btn--raised mui-btn--primary" onclick="sureSava">裁剪</iy-button>
<div class="container">
    <div class="img-container">
        <img src="https://s1.ax1x.com/2020/04/03/GtRImD.png" ref="image" alt=""> 
    </div>
    <div class="afterCropper">
        <img :src="afterImg" alt="">
    </div>
    <script>
          data () {
            return {
              myCropper: null,
              afterImg: ''
            }
          },
          mounted() {
            this.init()
          },
          methods: {
            init(){
              this.myCropper = new Cropper(this.$refs.image, {
                viewMode: 1,
                dragMode: 'none',
                initialAspectRatio: 1,
                aspectRatio: 1,
                preview: '.before',
                background: false,
                autoCropArea: 0.6,
                zoomOnWheel: false,
              })
            },
            sureSava(){
              this.afterImg = this.myCropper.getCroppedCanvas({
                imageSmoothingQuality: 'high'
              }).toDataURL('image/jpeg')
            }
          },
        </script>
        
        <!-- Add "scoped" attribute to limit CSS to this component only -->
        <style scoped>
        .container{
          display: flex;
        }
        .before{
          width: 100px;
          height: 100px;
          overflow: hidden;
          /* 这个属性可以得到想要的效果 */
        }
        .img-container{
          height: 400px;
          overflow: hidden;
        }
        .afterCropper{
          flex: 1;
          margin-left: 20px;
          border: 1px solid salmon; 
          text-align: center;
        }
        .afterCropper img{
          width: 150px;
          margin-top: 30px;
        }
        </style>
</div>
</div>
</div>
<footer id="footer">
<div class="mui-container-fluid">
<br>
Made with ♥ by <a href="https://www.muicss.com">MUI</a>
</div>
</footer>
</body>
</html>